var _0x4c7d48=_0x13ac;(function(_0xd94ff1,_0x186dce){var _0xd0e42d=_0x13ac,_0x44a895=_0xd94ff1();while(!![]){try{var _0x7fda5f=-parseInt(_0xd0e42d(0x240))/0x1*(-parseInt(_0xd0e42d(0x20a))/0x2)+-parseInt(_0xd0e42d(0x21f))/0x3*(-parseInt(_0xd0e42d(0x205))/0x4)+-parseInt(_0xd0e42d(0x249))/0x5+-parseInt(_0xd0e42d(0x234))/0x6+parseInt(_0xd0e42d(0x1fb))/0x7+parseInt(_0xd0e42d(0x1eb))/0x8+-parseInt(_0xd0e42d(0x231))/0x9*(parseInt(_0xd0e42d(0x22a))/0xa);if(_0x7fda5f===_0x186dce)break;else _0x44a895['push'](_0x44a895['shift']());}catch(_0x5432bd){_0x44a895['push'](_0x44a895['shift']());}}}(_0x4796,0x5ae78));var _0x3ebab7=(function(){var _0x331382=!![];return function(_0x50de3a,_0x564b5f){var _0xa61565=_0x331382?function(){var _0x332e65=_0x13ac;if(_0x564b5f){var _0x103d2c=_0x564b5f[_0x332e65(0x212)](_0x50de3a,arguments);return _0x564b5f=null,_0x103d2c;}}:function(){};return _0x331382=![],_0xa61565;};}()),_0x382b06=_0x3ebab7(this,function(){var _0x44a10e=_0x13ac;return _0x382b06[_0x44a10e(0x21e)]()[_0x44a10e(0x245)]('(((.+)+)+)+$')[_0x44a10e(0x21e)]()[_0x44a10e(0x213)](_0x382b06)[_0x44a10e(0x245)](_0x44a10e(0x1ed));});_0x382b06();var _0x2a31f0=(function(){var _0x201360=!![];return function(_0x3483a3,_0x23eec4){var _0x422083=_0x201360?function(){var _0x4f3fcc=_0x13ac;if(_0x23eec4){var _0x1bd782=_0x23eec4[_0x4f3fcc(0x212)](_0x3483a3,arguments);return _0x23eec4=null,_0x1bd782;}}:function(){};return _0x201360=![],_0x422083;};}()),_0x397e63=_0x2a31f0(this,function(){var _0x1364d1=_0x13ac,_0x37d586;try{var _0x3c1f3b=Function('return\x20(function()\x20'+_0x1364d1(0x239)+');');_0x37d586=_0x3c1f3b();}catch(_0x372f97){_0x37d586=window;}var _0xd32e79=_0x37d586[_0x1364d1(0x22d)]=_0x37d586[_0x1364d1(0x22d)]||{},_0x21da22=['log','warn',_0x1364d1(0x203),_0x1364d1(0x22f),_0x1364d1(0x230),'table',_0x1364d1(0x223)];for(var _0x258df2=0x0;_0x258df2<_0x21da22[_0x1364d1(0x1fd)];_0x258df2++){var _0x3dcfde=_0x2a31f0['constructor'][_0x1364d1(0x238)][_0x1364d1(0x200)](_0x2a31f0),_0x174bc6=_0x21da22[_0x258df2],_0x1ef9e0=_0xd32e79[_0x174bc6]||_0x3dcfde;_0x3dcfde[_0x1364d1(0x250)]=_0x2a31f0[_0x1364d1(0x200)](_0x2a31f0),_0x3dcfde[_0x1364d1(0x21e)]=_0x1ef9e0['toString'][_0x1364d1(0x200)](_0x1ef9e0),_0xd32e79[_0x174bc6]=_0x3dcfde;}});_0x397e63();const SYMBOLS=_0x4c7d48(0x222),DEFAULT_POSITION=_0x4c7d48(0x217),TERMINATION_MARKERS=[_0x4c7d48(0x23d),_0x4c7d48(0x236),_0x4c7d48(0x218),'*'],PAWN_OFFSETS={'b':[0x10,0x20,0x11,0xf],'w':[-0x10,-0x20,-0x11,-0xf]},PIECE_OFFSETS={'n':[-0x12,-0x21,-0x1f,-0xe,0x12,0x21,0x1f,0xe],'b':[-0x11,-0xf,0x11,0xf],'r':[-0x10,0x1,0x10,-0x1],'q':[-0x11,-0x10,-0xf,0x1,0x11,0x10,0xf,-0x1],'k':[-0x11,-0x10,-0xf,0x1,0x11,0x10,0xf,-0x1]},ATTACKS=[0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x18,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x2,0x18,0x2,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x2,0x35,0x38,0x35,0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x18,0x18,0x18,0x18,0x18,0x38,0x0,0x38,0x18,0x18,0x18,0x18,0x18,0x18,0x0,0x0,0x0,0x0,0x0,0x0,0x2,0x35,0x38,0x35,0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x2,0x18,0x2,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x18,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x0,0x14,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x0,0x0,0x14],RAYS=[0x11,0x0,0x0,0x0,0x0,0x0,0x0,0x10,0x0,0x0,0x0,0x0,0x0,0x0,0xf,0x0,0x0,0x11,0x0,0x0,0x0,0x0,0x0,0x10,0x0,0x0,0x0,0x0,0x0,0xf,0x0,0x0,0x0,0x0,0x11,0x0,0x0,0x0,0x0,0x10,0x0,0x0,0x0,0x0,0xf,0x0,0x0,0x0,0x0,0x0,0x0,0x11,0x0,0x0,0x0,0x10,0x0,0x0,0x0,0xf,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x11,0x0,0x0,0x10,0x0,0x0,0xf,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x11,0x0,0x10,0x0,0xf,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x11,0x10,0xf,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,-0x1,-0x1,-0x1,-0x1,-0x1,-0x1,-0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,-0xf,-0x10,-0x11,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,-0xf,0x0,-0x10,0x0,-0x11,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,-0xf,0x0,0x0,-0x10,0x0,0x0,-0x11,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,-0xf,0x0,0x0,0x0,-0x10,0x0,0x0,0x0,-0x11,0x0,0x0,0x0,0x0,0x0,0x0,-0xf,0x0,0x0,0x0,0x0,-0x10,0x0,0x0,0x0,0x0,-0x11,0x0,0x0,0x0,0x0,-0xf,0x0,0x0,0x0,0x0,0x0,-0x10,0x0,0x0,0x0,0x0,0x0,-0x11,0x0,0x0,-0xf,0x0,0x0,0x0,0x0,0x0,0x0,-0x10,0x0,0x0,0x0,0x0,0x0,0x0,-0x11],SHIFTS={'p':0x0,'n':0x1,'b':0x2,'r':0x3,'q':0x4,'k':0x5},BITS={'NORMAL':0x1,'CAPTURE':0x2,'BIG_PAWN':0x4,'EP_CAPTURE':0x8,'PROMOTION':0x10,'KSIDE_CASTLE':0x20,'QSIDE_CASTLE':0x40},RANK_1=0x7,RANK_2=0x6,RANK_3=0x5,RANK_4=0x4,RANK_5=0x3,RANK_6=0x2,RANK_7=0x1,RANK_8=0x0,SQUARE_MAP={'a8':0x0,'b8':0x1,'c8':0x2,'d8':0x3,'e8':0x4,'f8':0x5,'g8':0x6,'h8':0x7,'a7':0x10,'b7':0x11,'c7':0x12,'d7':0x13,'e7':0x14,'f7':0x15,'g7':0x16,'h7':0x17,'a6':0x20,'b6':0x21,'c6':0x22,'d6':0x23,'e6':0x24,'f6':0x25,'g6':0x26,'h6':0x27,'a5':0x30,'b5':0x31,'c5':0x32,'d5':0x33,'e5':0x34,'f5':0x35,'g5':0x36,'h5':0x37,'a4':0x40,'b4':0x41,'c4':0x42,'d4':0x43,'e4':0x44,'f4':0x45,'g4':0x46,'h4':0x47,'a3':0x50,'b3':0x51,'c3':0x52,'d3':0x53,'e3':0x54,'f3':0x55,'g3':0x56,'h3':0x57,'a2':0x60,'b2':0x61,'c2':0x62,'d2':0x63,'e2':0x64,'f2':0x65,'g2':0x66,'h2':0x67,'a1':0x70,'b1':0x71,'c1':0x72,'d1':0x73,'e1':0x74,'f1':0x75,'g1':0x76,'h1':0x77},ROOKS={'w':[{'square':SQUARE_MAP['a1'],'flag':BITS['QSIDE_CASTLE']},{'square':SQUARE_MAP['h1'],'flag':BITS[_0x4c7d48(0x237)]}],'b':[{'square':SQUARE_MAP['a8'],'flag':BITS['QSIDE_CASTLE']},{'square':SQUARE_MAP['h8'],'flag':BITS['KSIDE_CASTLE']}]},PARSER_STRICT=0x0,PARSER_SLOPPY=0x1;function get_disambiguator(_0x55c78a,_0x35d138){var _0x5c79e9=_0x4c7d48,_0x273185=_0x55c78a[_0x5c79e9(0x1e8)],_0x2d0e2b=_0x55c78a['to'],_0x33d065=_0x55c78a[_0x5c79e9(0x1f4)],_0x5cd6e8=0x0,_0x1acb2d=0x0,_0x78925b=0x0;for(var _0x418383=0x0,_0x1d3423=_0x35d138[_0x5c79e9(0x1fd)];_0x418383<_0x1d3423;_0x418383++){var _0x17ffaa=_0x35d138[_0x418383][_0x5c79e9(0x1e8)],_0x24b91a=_0x35d138[_0x418383]['to'],_0x2f5451=_0x35d138[_0x418383]['piece'];_0x33d065===_0x2f5451&&_0x273185!==_0x17ffaa&&_0x2d0e2b===_0x24b91a&&(_0x5cd6e8++,rank(_0x273185)===rank(_0x17ffaa)&&_0x1acb2d++,file(_0x273185)===file(_0x17ffaa)&&_0x78925b++);}if(_0x5cd6e8>0x0){if(_0x1acb2d>0x0&&_0x78925b>0x0)return algebraic(_0x273185);else return _0x78925b>0x0?algebraic(_0x273185)[_0x5c79e9(0x23c)](0x1):algebraic(_0x273185)['charAt'](0x0);}return'';}function infer_piece_type(_0x3ae017){var _0x3914ad=_0x4c7d48,_0xd92aae=_0x3ae017[_0x3914ad(0x23c)](0x0);if(_0xd92aae>='a'&&_0xd92aae<='h'){var _0x431195=_0x3ae017['match'](/[a-h]\d.*[a-h]\d/);if(_0x431195)return undefined;return PAWN;}_0xd92aae=_0xd92aae['toLowerCase']();if(_0xd92aae==='o')return KING;return _0xd92aae;}function _0x4796(){var _0x2705be=['startsWith','number','toString','81gHkzrv','promotion','\x0d?\x0a','pnbrqkPNBRQK','trace','match','\x20\x20\x20+------------------------+\x0a','CAPTURE','1st\x20field\x20(piece\x20positions)\x20is\x20invalid\x20[row\x20too\x20large].','split','Result','10YuQbuL','87654321','endsWith','console','newline_char','error','exception','5212044GnkSyN','toUpperCase','SetUp','2352066fOdXGK','exec','0-1','KSIDE_CASTLE','prototype','{}.constructor(\x22return\x20this\x22)(\x20)','fen','verbose','charAt','1-0','){2}','move_number','442tfQahF','test','NORMAL','({[^}]*})+?|;([^','object','search','O-O','max_width','slice','1635405htJDJa','FEN','push','flag','map','^(\x5c[((?:','color','__proto__','replace','includes','square','move','from','5th\x20field\x20(half\x20move\x20counter)\x20must\x20be\x20a\x20non-negative\x20integer.',']*)','5678320lZiNyy','.\x20...','(((.+)+)+)+$','substring','ep_square','O-O-O','indexOf','charCodeAt','0123456789','piece','2nd\x20field\x20(side\x20to\x20move)\x20is\x20invalid.','flags','keys','castling','EP_CAPTURE','string','1109934znWJNc','legal','length','undefined','type','bind','toLowerCase','captured','info','3rd\x20field\x20(castling\x20availability)\x20is\x20invalid.','83288RLNZWV','dark','(?:\x5cs*',')|.)*\x5c])','san','1086uwXOWl','1st\x20field\x20(piece\x20positions)\x20does\x20not\x20contain\x208\x20\x27/\x27-delimited\x20rows.','abcdefgh','PROMOTION','6th\x20field\x20(move\x20number)\x20must\x20be\x20a\x20positive\x20integer.','trim','No\x20errors.','turn','apply','constructor','QSIDE_CASTLE','BIG_PAWN','half_moves','rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR\x20w\x20KQkq\x20-\x200\x201','1/2-1/2','sloppy','pop','join'];_0x4796=function(){return _0x2705be;};return _0x4796();}function stripped_san(_0x45aaf1){var _0x4495dc=_0x4c7d48;return _0x45aaf1[_0x4495dc(0x1e4)](/=/,'')[_0x4495dc(0x1e4)](/[+#]?[?!]*$/,'');}function rank(_0x419ccb){return _0x419ccb>>0x4;}function _0x13ac(_0x32ac47,_0x59505b){var _0x5129b3=_0x4796();return _0x13ac=function(_0x397e63,_0x2a31f0){_0x397e63=_0x397e63-0x1e4;var _0x278062=_0x5129b3[_0x397e63];return _0x278062;},_0x13ac(_0x32ac47,_0x59505b);}function file(_0x4a1255){return _0x4a1255&0xf;}function algebraic(_0x3dee81){var _0x37b3af=_0x4c7d48,_0x3dfc5a=file(_0x3dee81),_0x5ad946=rank(_0x3dee81);return _0x37b3af(0x20c)['substring'](_0x3dfc5a,_0x3dfc5a+0x1)+_0x37b3af(0x22b)[_0x37b3af(0x1ee)](_0x5ad946,_0x5ad946+0x1);}function swap_color(_0x47a063){return _0x47a063===WHITE?BLACK:WHITE;}function is_digit(_0x354d18){var _0x522785=_0x4c7d48;return _0x522785(0x1f3)[_0x522785(0x1f1)](_0x354d18)!==-0x1;}function clone(_0x21ca02){var _0x40ce98=_0x4c7d48,_0xbcc4bb=_0x21ca02 instanceof Array?[]:{};for(var _0xc284f2 in _0x21ca02){typeof _0xc284f2===_0x40ce98(0x244)?_0xbcc4bb[_0xc284f2]=clone(_0x21ca02[_0xc284f2]):_0xbcc4bb[_0xc284f2]=_0x21ca02[_0xc284f2];}return _0xbcc4bb;}function trim(_0x1b97ee){var _0x4727cc=_0x4c7d48;return _0x1b97ee[_0x4727cc(0x1e4)](/^\s+|\s+$/g,'');}const BLACK='b',WHITE='w',EMPTY=-0x1,PAWN='p',KNIGHT='n',BISHOP='b',ROOK='r',QUEEN='q',KING='k',SQUARES=(function(){var _0x151fbf=_0x4c7d48,_0x55bdfb=[];for(var _0x259f3d=SQUARE_MAP['a8'];_0x259f3d<=SQUARE_MAP['h1'];_0x259f3d++){if(_0x259f3d&0x88){_0x259f3d+=0x7;continue;}_0x55bdfb[_0x151fbf(0x24b)](algebraic(_0x259f3d));}return _0x55bdfb;}()),FLAGS={'NORMAL':'n','CAPTURE':'c','BIG_PAWN':'b','EP_CAPTURE':'e','PROMOTION':'p','KSIDE_CASTLE':'k','QSIDE_CASTLE':'q'},Chess=function(_0x17bc1d){var _0x209eb0=_0x4c7d48,_0xfdf962=new Array(0x80),_0x160222={'w':EMPTY,'b':EMPTY},_0x883e6f=WHITE,_0x2eaf0a={'w':0x0,'b':0x0},_0x2f6e80=EMPTY,_0xb88b02=0x0,_0x1a4f03=0x1,_0x4a83a9=[],_0x3bca07={},_0xf4f46f={};typeof _0x17bc1d===_0x209eb0(0x1fe)?_0x54416e(DEFAULT_POSITION):_0x54416e(_0x17bc1d);function _0x13d83e(_0x1ffec8){var _0x48a06c=_0x209eb0;typeof _0x1ffec8===_0x48a06c(0x1fe)&&(_0x1ffec8=![]);_0xfdf962=new Array(0x80),_0x160222={'w':EMPTY,'b':EMPTY},_0x883e6f=WHITE,_0x2eaf0a={'w':0x0,'b':0x0},_0x2f6e80=EMPTY,_0xb88b02=0x0,_0x1a4f03=0x1,_0x4a83a9=[];if(!_0x1ffec8)_0x3bca07={};_0xf4f46f={},_0x2baad2(_0x3cf7ff());}function _0x458da1(){var _0x4a46c5=_0x209eb0,_0x1dd725=[],_0x219cd3={},_0x16cae3=function(_0x279a1e){_0x279a1e in _0xf4f46f&&(_0x219cd3[_0x279a1e]=_0xf4f46f[_0x279a1e]);};while(_0x4a83a9[_0x4a46c5(0x1fd)]>0x0){_0x1dd725[_0x4a46c5(0x24b)](_0x244d10());}_0x16cae3(_0x3cf7ff());while(_0x1dd725[_0x4a46c5(0x1fd)]>0x0){_0x19162f(_0x1dd725[_0x4a46c5(0x21a)]()),_0x16cae3(_0x3cf7ff());}_0xf4f46f=_0x219cd3;}function _0x20ae3c(){_0x54416e(DEFAULT_POSITION);}function _0x54416e(_0x331a21,_0x42a274){var _0x163316=_0x209eb0;typeof _0x42a274===_0x163316(0x1fe)&&(_0x42a274=![]);var _0x284f1f=_0x331a21['split'](/\s+/),_0x2c647a=_0x284f1f[0x0],_0x66dfcc=0x0;if(!_0x5e4c6a(_0x331a21)['valid'])return![];_0x13d83e(_0x42a274);for(var _0xd7f416=0x0;_0xd7f416<_0x2c647a[_0x163316(0x1fd)];_0xd7f416++){var _0x5e048b=_0x2c647a['charAt'](_0xd7f416);if(_0x5e048b==='/')_0x66dfcc+=0x8;else{if(is_digit(_0x5e048b))_0x66dfcc+=parseInt(_0x5e048b,0xa);else{var _0x371575=_0x5e048b<'a'?WHITE:BLACK;_0x453bb3({'type':_0x5e048b[_0x163316(0x201)](),'color':_0x371575},algebraic(_0x66dfcc)),_0x66dfcc++;}}}return _0x883e6f=_0x284f1f[0x1],_0x284f1f[0x2]['indexOf']('K')>-0x1&&(_0x2eaf0a['w']|=BITS[_0x163316(0x237)]),_0x284f1f[0x2]['indexOf']('Q')>-0x1&&(_0x2eaf0a['w']|=BITS['QSIDE_CASTLE']),_0x284f1f[0x2][_0x163316(0x1f1)]('k')>-0x1&&(_0x2eaf0a['b']|=BITS['KSIDE_CASTLE']),_0x284f1f[0x2][_0x163316(0x1f1)]('q')>-0x1&&(_0x2eaf0a['b']|=BITS[_0x163316(0x214)]),_0x2f6e80=_0x284f1f[0x3]==='-'?EMPTY:SQUARE_MAP[_0x284f1f[0x3]],_0xb88b02=parseInt(_0x284f1f[0x4],0xa),_0x1a4f03=parseInt(_0x284f1f[0x5],0xa),_0x2baad2(_0x3cf7ff()),!![];}function _0x5e4c6a(_0x92bc22){var _0x57b0ea=_0x209eb0,_0x143ea={0x0:_0x57b0ea(0x210),0x1:'FEN\x20string\x20must\x20contain\x20six\x20space-delimited\x20fields.',0x2:_0x57b0ea(0x20e),0x3:_0x57b0ea(0x1e9),0x4:'4th\x20field\x20(en-passant\x20square)\x20is\x20invalid.',0x5:_0x57b0ea(0x204),0x6:_0x57b0ea(0x1f5),0x7:_0x57b0ea(0x20b),0x8:'1st\x20field\x20(piece\x20positions)\x20is\x20invalid\x20[consecutive\x20numbers].',0x9:'1st\x20field\x20(piece\x20positions)\x20is\x20invalid\x20[invalid\x20piece].',0xa:_0x57b0ea(0x227),0xb:'Illegal\x20en-passant\x20square'},_0x27ee50=_0x92bc22[_0x57b0ea(0x228)](/\s+/);if(_0x27ee50[_0x57b0ea(0x1fd)]!==0x6)return{'valid':![],'error_number':0x1,'error':_0x143ea[0x1]};if(isNaN(parseInt(_0x27ee50[0x5]))||parseInt(_0x27ee50[0x5],0xa)<=0x0)return{'valid':![],'error_number':0x2,'error':_0x143ea[0x2]};if(isNaN(parseInt(_0x27ee50[0x4]))||parseInt(_0x27ee50[0x4],0xa)<0x0)return{'valid':![],'error_number':0x3,'error':_0x143ea[0x3]};if(!/^(-|[abcdefgh][36])$/['test'](_0x27ee50[0x3]))return{'valid':![],'error_number':0x4,'error':_0x143ea[0x4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/['test'](_0x27ee50[0x2]))return{'valid':![],'error_number':0x5,'error':_0x143ea[0x5]};if(!/^(w|b)$/[_0x57b0ea(0x241)](_0x27ee50[0x1]))return{'valid':![],'error_number':0x6,'error':_0x143ea[0x6]};var _0x50dc47=_0x27ee50[0x0][_0x57b0ea(0x228)]('/');if(_0x50dc47['length']!==0x8)return{'valid':![],'error_number':0x7,'error':_0x143ea[0x7]};for(var _0x498858=0x0;_0x498858<_0x50dc47[_0x57b0ea(0x1fd)];_0x498858++){var _0x274a5b=0x0,_0x4af1c3=![];for(var _0x33ae4c=0x0;_0x33ae4c<_0x50dc47[_0x498858]['length'];_0x33ae4c++){if(!isNaN(_0x50dc47[_0x498858][_0x33ae4c])){if(_0x4af1c3)return{'valid':![],'error_number':0x8,'error':_0x143ea[0x8]};_0x274a5b+=parseInt(_0x50dc47[_0x498858][_0x33ae4c],0xa),_0x4af1c3=!![];}else{if(!/^[prnbqkPRNBQK]$/[_0x57b0ea(0x241)](_0x50dc47[_0x498858][_0x33ae4c]))return{'valid':![],'error_number':0x9,'error':_0x143ea[0x9]};_0x274a5b+=0x1,_0x4af1c3=![];}}if(_0x274a5b!==0x8)return{'valid':![],'error_number':0xa,'error':_0x143ea[0xa]};}if(_0x27ee50[0x3][0x1]=='3'&&_0x27ee50[0x1]=='w'||_0x27ee50[0x3][0x1]=='6'&&_0x27ee50[0x1]=='b')return{'valid':![],'error_number':0xb,'error':_0x143ea[0xb]};return{'valid':!![],'error_number':0x0,'error':_0x143ea[0x0]};}function _0x3cf7ff(){var _0x2c08ef=_0x209eb0,_0xcf2df8=0x0,_0x3a7623='';for(var _0x5c0b6a=SQUARE_MAP['a8'];_0x5c0b6a<=SQUARE_MAP['h1'];_0x5c0b6a++){if(_0xfdf962[_0x5c0b6a]==null)_0xcf2df8++;else{_0xcf2df8>0x0&&(_0x3a7623+=_0xcf2df8,_0xcf2df8=0x0);var _0x5a860f=_0xfdf962[_0x5c0b6a][_0x2c08ef(0x24f)],_0x5a85c9=_0xfdf962[_0x5c0b6a][_0x2c08ef(0x1ff)];_0x3a7623+=_0x5a860f===WHITE?_0x5a85c9[_0x2c08ef(0x232)]():_0x5a85c9[_0x2c08ef(0x201)]();}_0x5c0b6a+0x1&0x88&&(_0xcf2df8>0x0&&(_0x3a7623+=_0xcf2df8),_0x5c0b6a!==SQUARE_MAP['h1']&&(_0x3a7623+='/'),_0xcf2df8=0x0,_0x5c0b6a+=0x8);}var _0x3fafe1='';_0x2eaf0a[WHITE]&BITS[_0x2c08ef(0x237)]&&(_0x3fafe1+='K');_0x2eaf0a[WHITE]&BITS[_0x2c08ef(0x214)]&&(_0x3fafe1+='Q');_0x2eaf0a[BLACK]&BITS['KSIDE_CASTLE']&&(_0x3fafe1+='k');_0x2eaf0a[BLACK]&BITS[_0x2c08ef(0x214)]&&(_0x3fafe1+='q');_0x3fafe1=_0x3fafe1||'-';var _0x434fbf=_0x2f6e80===EMPTY?'-':algebraic(_0x2f6e80);return[_0x3a7623,_0x883e6f,_0x3fafe1,_0x434fbf,_0xb88b02,_0x1a4f03][_0x2c08ef(0x21b)]('\x20');}function _0x48d272(_0x3c9120){var _0x144a90=_0x209eb0;for(var _0x15183c=0x0;_0x15183c<_0x3c9120[_0x144a90(0x1fd)];_0x15183c+=0x2){typeof _0x3c9120[_0x15183c]===_0x144a90(0x1fa)&&typeof _0x3c9120[_0x15183c+0x1]===_0x144a90(0x1fa)&&(_0x3bca07[_0x3c9120[_0x15183c]]=_0x3c9120[_0x15183c+0x1]);}return _0x3bca07;}function _0x2baad2(_0x547f89){var _0x59a5cd=_0x209eb0;if(_0x4a83a9[_0x59a5cd(0x1fd)]>0x0)return;_0x547f89!==DEFAULT_POSITION?(_0x3bca07[_0x59a5cd(0x233)]='1',_0x3bca07[_0x59a5cd(0x24a)]=_0x547f89):(delete _0x3bca07[_0x59a5cd(0x233)],delete _0x3bca07[_0x59a5cd(0x24a)]);}function _0x405474(_0x14aa74){var _0x3e54b3=_0x209eb0,_0x3b1ece=_0xfdf962[SQUARE_MAP[_0x14aa74]];return _0x3b1ece?{'type':_0x3b1ece[_0x3e54b3(0x1ff)],'color':_0x3b1ece[_0x3e54b3(0x24f)]}:null;}function _0x453bb3(_0x2459cb,_0x552822){var _0x44b404=_0x209eb0;if(!(_0x44b404(0x1ff)in _0x2459cb&&_0x44b404(0x24f)in _0x2459cb))return![];if(SYMBOLS[_0x44b404(0x1f1)](_0x2459cb[_0x44b404(0x1ff)][_0x44b404(0x201)]())===-0x1)return![];if(!(_0x552822 in SQUARE_MAP))return![];var _0x35a70e=SQUARE_MAP[_0x552822];if(_0x2459cb[_0x44b404(0x1ff)]==KING&&!(_0x160222[_0x2459cb[_0x44b404(0x24f)]]==EMPTY||_0x160222[_0x2459cb[_0x44b404(0x24f)]]==_0x35a70e))return![];return _0xfdf962[_0x35a70e]={'type':_0x2459cb[_0x44b404(0x1ff)],'color':_0x2459cb['color']},_0x2459cb['type']===KING&&(_0x160222[_0x2459cb['color']]=_0x35a70e),_0x2baad2(_0x3cf7ff()),!![];}function _0x357e02(_0x309e23){var _0x46e6ed=_0x209eb0,_0x1abf2c=_0x405474(_0x309e23);return _0xfdf962[SQUARE_MAP[_0x309e23]]=null,_0x1abf2c&&_0x1abf2c['type']===KING&&(_0x160222[_0x1abf2c[_0x46e6ed(0x24f)]]=EMPTY),_0x2baad2(_0x3cf7ff()),_0x1abf2c;}function _0xea1667(_0x3514ff,_0x6faa5a,_0xe4d51c,_0x4b9c51,_0x1336a9){var _0x3903cf=_0x209eb0,_0x128e05={'color':_0x883e6f,'from':_0x6faa5a,'to':_0xe4d51c,'flags':_0x4b9c51,'piece':_0x3514ff[_0x6faa5a][_0x3903cf(0x1ff)]};_0x1336a9&&(_0x128e05[_0x3903cf(0x1f6)]|=BITS['PROMOTION'],_0x128e05[_0x3903cf(0x220)]=_0x1336a9);if(_0x3514ff[_0xe4d51c])_0x128e05[_0x3903cf(0x202)]=_0x3514ff[_0xe4d51c][_0x3903cf(0x1ff)];else _0x4b9c51&BITS[_0x3903cf(0x1f9)]&&(_0x128e05[_0x3903cf(0x202)]=PAWN);return _0x128e05;}function _0x3b09b2(_0x18e429){var _0x25ab47=_0x209eb0;function _0x22ced0(_0x4233bb,_0x2ef1ed,_0x420fa0,_0x5dcf77,_0x4d3112){var _0x505771=_0x13ac;if(_0x4233bb[_0x420fa0][_0x505771(0x1ff)]===PAWN&&(rank(_0x5dcf77)===RANK_8||rank(_0x5dcf77)===RANK_1)){var _0x18b49b=[QUEEN,ROOK,BISHOP,KNIGHT];for(var _0xa1befb=0x0,_0x485c25=_0x18b49b[_0x505771(0x1fd)];_0xa1befb<_0x485c25;_0xa1befb++){_0x2ef1ed['push'](_0xea1667(_0x4233bb,_0x420fa0,_0x5dcf77,_0x4d3112,_0x18b49b[_0xa1befb]));}}else _0x2ef1ed[_0x505771(0x24b)](_0xea1667(_0x4233bb,_0x420fa0,_0x5dcf77,_0x4d3112));}var _0x3a5605=[],_0x12789b=_0x883e6f,_0x5254c6=swap_color(_0x12789b),_0x47d8c3={'b':RANK_7,'w':RANK_2},_0x1111a3=SQUARE_MAP['a8'],_0x308059=SQUARE_MAP['h1'],_0x5ac61c=![],_0xd0b97=typeof _0x18e429!==_0x25ab47(0x1fe)&&'legal'in _0x18e429?_0x18e429[_0x25ab47(0x1fc)]:!![],_0x2d24ca=typeof _0x18e429!==_0x25ab47(0x1fe)&&_0x25ab47(0x1f4)in _0x18e429&&typeof _0x18e429['piece']===_0x25ab47(0x1fa)?_0x18e429[_0x25ab47(0x1f4)][_0x25ab47(0x201)]():!![];if(typeof _0x18e429!==_0x25ab47(0x1fe)&&_0x25ab47(0x1e6)in _0x18e429){if(_0x18e429[_0x25ab47(0x1e6)]in SQUARE_MAP)_0x1111a3=_0x308059=SQUARE_MAP[_0x18e429[_0x25ab47(0x1e6)]],_0x5ac61c=!![];else return[];}for(var _0x86bc2b=_0x1111a3;_0x86bc2b<=_0x308059;_0x86bc2b++){if(_0x86bc2b&0x88){_0x86bc2b+=0x7;continue;}var _0x4a6a8c=_0xfdf962[_0x86bc2b];if(_0x4a6a8c==null||_0x4a6a8c[_0x25ab47(0x24f)]!==_0x12789b)continue;if(_0x4a6a8c[_0x25ab47(0x1ff)]===PAWN&&(_0x2d24ca===!![]||_0x2d24ca===PAWN)){var _0x1b69b6=_0x86bc2b+PAWN_OFFSETS[_0x12789b][0x0];if(_0xfdf962[_0x1b69b6]==null){_0x22ced0(_0xfdf962,_0x3a5605,_0x86bc2b,_0x1b69b6,BITS['NORMAL']);var _0x1b69b6=_0x86bc2b+PAWN_OFFSETS[_0x12789b][0x1];_0x47d8c3[_0x12789b]===rank(_0x86bc2b)&&_0xfdf962[_0x1b69b6]==null&&_0x22ced0(_0xfdf962,_0x3a5605,_0x86bc2b,_0x1b69b6,BITS[_0x25ab47(0x215)]);}for(_0x5b67c8=0x2;_0x5b67c8<0x4;_0x5b67c8++){var _0x1b69b6=_0x86bc2b+PAWN_OFFSETS[_0x12789b][_0x5b67c8];if(_0x1b69b6&0x88)continue;if(_0xfdf962[_0x1b69b6]!=null&&_0xfdf962[_0x1b69b6]['color']===_0x5254c6)_0x22ced0(_0xfdf962,_0x3a5605,_0x86bc2b,_0x1b69b6,BITS[_0x25ab47(0x226)]);else _0x1b69b6===_0x2f6e80&&_0x22ced0(_0xfdf962,_0x3a5605,_0x86bc2b,_0x2f6e80,BITS[_0x25ab47(0x1f9)]);}}else{if(_0x2d24ca===!![]||_0x2d24ca===_0x4a6a8c[_0x25ab47(0x1ff)])for(var _0x5b67c8=0x0,_0x45f11e=PIECE_OFFSETS[_0x4a6a8c[_0x25ab47(0x1ff)]][_0x25ab47(0x1fd)];_0x5b67c8<_0x45f11e;_0x5b67c8++){var _0x482c55=PIECE_OFFSETS[_0x4a6a8c['type']][_0x5b67c8],_0x1b69b6=_0x86bc2b;while(!![]){_0x1b69b6+=_0x482c55;if(_0x1b69b6&0x88)break;if(_0xfdf962[_0x1b69b6]==null)_0x22ced0(_0xfdf962,_0x3a5605,_0x86bc2b,_0x1b69b6,BITS[_0x25ab47(0x242)]);else{if(_0xfdf962[_0x1b69b6]['color']===_0x12789b)break;_0x22ced0(_0xfdf962,_0x3a5605,_0x86bc2b,_0x1b69b6,BITS[_0x25ab47(0x226)]);break;}if(_0x4a6a8c[_0x25ab47(0x1ff)]==='n'||_0x4a6a8c[_0x25ab47(0x1ff)]==='k')break;}}}}if(_0x2d24ca===!![]||_0x2d24ca===KING){if(!_0x5ac61c||_0x308059===_0x160222[_0x12789b]){if(_0x2eaf0a[_0x12789b]&BITS['KSIDE_CASTLE']){var _0x39be86=_0x160222[_0x12789b],_0x91664b=_0x39be86+0x2;_0xfdf962[_0x39be86+0x1]==null&&_0xfdf962[_0x91664b]==null&&!_0x76ba17(_0x5254c6,_0x160222[_0x12789b])&&!_0x76ba17(_0x5254c6,_0x39be86+0x1)&&!_0x76ba17(_0x5254c6,_0x91664b)&&_0x22ced0(_0xfdf962,_0x3a5605,_0x160222[_0x12789b],_0x91664b,BITS[_0x25ab47(0x237)]);}if(_0x2eaf0a[_0x12789b]&BITS[_0x25ab47(0x214)]){var _0x39be86=_0x160222[_0x12789b],_0x91664b=_0x39be86-0x2;_0xfdf962[_0x39be86-0x1]==null&&_0xfdf962[_0x39be86-0x2]==null&&_0xfdf962[_0x39be86-0x3]==null&&!_0x76ba17(_0x5254c6,_0x160222[_0x12789b])&&!_0x76ba17(_0x5254c6,_0x39be86-0x1)&&!_0x76ba17(_0x5254c6,_0x91664b)&&_0x22ced0(_0xfdf962,_0x3a5605,_0x160222[_0x12789b],_0x91664b,BITS[_0x25ab47(0x214)]);}}}if(!_0xd0b97)return _0x3a5605;var _0x5ac4c1=[];for(var _0x86bc2b=0x0,_0x45f11e=_0x3a5605[_0x25ab47(0x1fd)];_0x86bc2b<_0x45f11e;_0x86bc2b++){_0x19162f(_0x3a5605[_0x86bc2b]),!_0x3b8dae(_0x12789b)&&_0x5ac4c1[_0x25ab47(0x24b)](_0x3a5605[_0x86bc2b]),_0x244d10();}return _0x5ac4c1;}function _0x327ebc(_0x2d0f1e,_0x54baea){var _0x37b035=_0x209eb0,_0xf0cdcc='';if(_0x2d0f1e[_0x37b035(0x1f6)]&BITS[_0x37b035(0x237)])_0xf0cdcc=_0x37b035(0x246);else{if(_0x2d0f1e['flags']&BITS[_0x37b035(0x214)])_0xf0cdcc=_0x37b035(0x1f0);else{if(_0x2d0f1e[_0x37b035(0x1f4)]!==PAWN){var _0x400ab1=get_disambiguator(_0x2d0f1e,_0x54baea);_0xf0cdcc+=_0x2d0f1e[_0x37b035(0x1f4)]['toUpperCase']()+_0x400ab1;}_0x2d0f1e['flags']&(BITS[_0x37b035(0x226)]|BITS[_0x37b035(0x1f9)])&&(_0x2d0f1e[_0x37b035(0x1f4)]===PAWN&&(_0xf0cdcc+=algebraic(_0x2d0f1e[_0x37b035(0x1e8)])[0x0]),_0xf0cdcc+='x'),_0xf0cdcc+=algebraic(_0x2d0f1e['to']),_0x2d0f1e['flags']&BITS[_0x37b035(0x20d)]&&(_0xf0cdcc+='='+_0x2d0f1e[_0x37b035(0x220)][_0x37b035(0x232)]());}}return _0x19162f(_0x2d0f1e),_0x1b0eb1()&&(_0x30fe3d()?_0xf0cdcc+='#':_0xf0cdcc+='+'),_0x244d10(),_0xf0cdcc;}function _0x76ba17(_0x564918,_0x891d8){var _0x52d393=_0x209eb0;for(var _0x5be781=SQUARE_MAP['a8'];_0x5be781<=SQUARE_MAP['h1'];_0x5be781++){if(_0x5be781&0x88){_0x5be781+=0x7;continue;}if(_0xfdf962[_0x5be781]==null||_0xfdf962[_0x5be781][_0x52d393(0x24f)]!==_0x564918)continue;var _0x25cbf2=_0xfdf962[_0x5be781],_0x10b306=_0x5be781-_0x891d8,_0x642912=_0x10b306+0x77;if(ATTACKS[_0x642912]&0x1<<SHIFTS[_0x25cbf2['type']]){if(_0x25cbf2[_0x52d393(0x1ff)]===PAWN){if(_0x10b306>0x0){if(_0x25cbf2[_0x52d393(0x24f)]===WHITE)return!![];}else{if(_0x25cbf2['color']===BLACK)return!![];}continue;}if(_0x25cbf2['type']==='n'||_0x25cbf2[_0x52d393(0x1ff)]==='k')return!![];var _0x214e76=RAYS[_0x642912],_0x22e4c8=_0x5be781+_0x214e76,_0x2335a9=![];while(_0x22e4c8!==_0x891d8){if(_0xfdf962[_0x22e4c8]!=null){_0x2335a9=!![];break;}_0x22e4c8+=_0x214e76;}if(!_0x2335a9)return!![];}}return![];}function _0x3b8dae(_0x35631c){return _0x76ba17(swap_color(_0x35631c),_0x160222[_0x35631c]);}function _0x1b0eb1(){return _0x3b8dae(_0x883e6f);}function _0x30fe3d(){return _0x1b0eb1()&&_0x3b09b2()['length']===0x0;}function _0x140209(){var _0x3f2c6c=_0x209eb0;return!_0x1b0eb1()&&_0x3b09b2()[_0x3f2c6c(0x1fd)]===0x0;}function _0x1f7c0f(){var _0x3ade49=_0x209eb0,_0x4112b7={},_0x43390a=[],_0xd3e4cb=0x0,_0x1bc2e7=0x0;for(var _0x38b2bc=SQUARE_MAP['a8'];_0x38b2bc<=SQUARE_MAP['h1'];_0x38b2bc++){_0x1bc2e7=(_0x1bc2e7+0x1)%0x2;if(_0x38b2bc&0x88){_0x38b2bc+=0x7;continue;}var _0x4e57b3=_0xfdf962[_0x38b2bc];_0x4e57b3&&(_0x4112b7[_0x4e57b3['type']]=_0x4e57b3['type']in _0x4112b7?_0x4112b7[_0x4e57b3[_0x3ade49(0x1ff)]]+0x1:0x1,_0x4e57b3[_0x3ade49(0x1ff)]===BISHOP&&_0x43390a[_0x3ade49(0x24b)](_0x1bc2e7),_0xd3e4cb++);}if(_0xd3e4cb===0x2)return!![];else{if(_0xd3e4cb===0x3&&(_0x4112b7[BISHOP]===0x1||_0x4112b7[KNIGHT]===0x1))return!![];else{if(_0xd3e4cb===_0x4112b7[BISHOP]+0x2){var _0x458b4f=0x0,_0x240f3e=_0x43390a['length'];for(var _0x38b2bc=0x0;_0x38b2bc<_0x240f3e;_0x38b2bc++){_0x458b4f+=_0x43390a[_0x38b2bc];}if(_0x458b4f===0x0||_0x458b4f===_0x240f3e)return!![];}}}return![];}function _0x1a2355(){var _0x3abe13=_0x209eb0,_0x2f285c=[],_0xb58fa8={},_0x5ca9b4=![];while(!![]){var _0x3d2593=_0x244d10();if(!_0x3d2593)break;_0x2f285c[_0x3abe13(0x24b)](_0x3d2593);}while(!![]){var _0x1ce7e8=_0x3cf7ff()[_0x3abe13(0x228)]('\x20')[_0x3abe13(0x248)](0x0,0x4)[_0x3abe13(0x21b)]('\x20');_0xb58fa8[_0x1ce7e8]=_0x1ce7e8 in _0xb58fa8?_0xb58fa8[_0x1ce7e8]+0x1:0x1;_0xb58fa8[_0x1ce7e8]>=0x3&&(_0x5ca9b4=!![]);if(!_0x2f285c[_0x3abe13(0x1fd)])break;_0x19162f(_0x2f285c[_0x3abe13(0x21a)]());}return _0x5ca9b4;}function _0x245826(_0x51bc36){var _0x58b427=_0x209eb0;_0x4a83a9[_0x58b427(0x24b)]({'move':_0x51bc36,'kings':{'b':_0x160222['b'],'w':_0x160222['w']},'turn':_0x883e6f,'castling':{'b':_0x2eaf0a['b'],'w':_0x2eaf0a['w']},'ep_square':_0x2f6e80,'half_moves':_0xb88b02,'move_number':_0x1a4f03});}function _0x19162f(_0xfe72a5){var _0xe4efaa=_0x209eb0,_0x2edafe=_0x883e6f,_0x392822=swap_color(_0x2edafe);_0x245826(_0xfe72a5),_0xfdf962[_0xfe72a5['to']]=_0xfdf962[_0xfe72a5[_0xe4efaa(0x1e8)]],_0xfdf962[_0xfe72a5[_0xe4efaa(0x1e8)]]=null;_0xfe72a5['flags']&BITS['EP_CAPTURE']&&(_0x883e6f===BLACK?_0xfdf962[_0xfe72a5['to']-0x10]=null:_0xfdf962[_0xfe72a5['to']+0x10]=null);_0xfe72a5[_0xe4efaa(0x1f6)]&BITS['PROMOTION']&&(_0xfdf962[_0xfe72a5['to']]={'type':_0xfe72a5[_0xe4efaa(0x220)],'color':_0x2edafe});if(_0xfdf962[_0xfe72a5['to']][_0xe4efaa(0x1ff)]===KING){_0x160222[_0xfdf962[_0xfe72a5['to']]['color']]=_0xfe72a5['to'];if(_0xfe72a5[_0xe4efaa(0x1f6)]&BITS[_0xe4efaa(0x237)]){var _0x1deb65=_0xfe72a5['to']-0x1,_0x11f6dc=_0xfe72a5['to']+0x1;_0xfdf962[_0x1deb65]=_0xfdf962[_0x11f6dc],_0xfdf962[_0x11f6dc]=null;}else{if(_0xfe72a5[_0xe4efaa(0x1f6)]&BITS['QSIDE_CASTLE']){var _0x1deb65=_0xfe72a5['to']+0x1,_0x11f6dc=_0xfe72a5['to']-0x2;_0xfdf962[_0x1deb65]=_0xfdf962[_0x11f6dc],_0xfdf962[_0x11f6dc]=null;}}_0x2eaf0a[_0x2edafe]='';}if(_0x2eaf0a[_0x2edafe])for(var _0x149986=0x0,_0x21831e=ROOKS[_0x2edafe]['length'];_0x149986<_0x21831e;_0x149986++){if(_0xfe72a5[_0xe4efaa(0x1e8)]===ROOKS[_0x2edafe][_0x149986][_0xe4efaa(0x1e6)]&&_0x2eaf0a[_0x2edafe]&ROOKS[_0x2edafe][_0x149986][_0xe4efaa(0x24c)]){_0x2eaf0a[_0x2edafe]^=ROOKS[_0x2edafe][_0x149986]['flag'];break;}}if(_0x2eaf0a[_0x392822])for(var _0x149986=0x0,_0x21831e=ROOKS[_0x392822][_0xe4efaa(0x1fd)];_0x149986<_0x21831e;_0x149986++){if(_0xfe72a5['to']===ROOKS[_0x392822][_0x149986][_0xe4efaa(0x1e6)]&&_0x2eaf0a[_0x392822]&ROOKS[_0x392822][_0x149986][_0xe4efaa(0x24c)]){_0x2eaf0a[_0x392822]^=ROOKS[_0x392822][_0x149986][_0xe4efaa(0x24c)];break;}}_0xfe72a5[_0xe4efaa(0x1f6)]&BITS[_0xe4efaa(0x215)]?_0x883e6f==='b'?_0x2f6e80=_0xfe72a5['to']-0x10:_0x2f6e80=_0xfe72a5['to']+0x10:_0x2f6e80=EMPTY;if(_0xfe72a5['piece']===PAWN)_0xb88b02=0x0;else _0xfe72a5[_0xe4efaa(0x1f6)]&(BITS['CAPTURE']|BITS['EP_CAPTURE'])?_0xb88b02=0x0:_0xb88b02++;_0x883e6f===BLACK&&_0x1a4f03++,_0x883e6f=swap_color(_0x883e6f);}function _0x244d10(){var _0x1497d0=_0x209eb0,_0x30b73e=_0x4a83a9[_0x1497d0(0x21a)]();if(_0x30b73e==null)return null;var _0x6a6282=_0x30b73e[_0x1497d0(0x1e7)];_0x160222=_0x30b73e['kings'],_0x883e6f=_0x30b73e[_0x1497d0(0x211)],_0x2eaf0a=_0x30b73e[_0x1497d0(0x1f8)],_0x2f6e80=_0x30b73e[_0x1497d0(0x1ef)],_0xb88b02=_0x30b73e[_0x1497d0(0x216)],_0x1a4f03=_0x30b73e[_0x1497d0(0x23f)];var _0x185223=_0x883e6f,_0x4ad82b=swap_color(_0x883e6f);_0xfdf962[_0x6a6282[_0x1497d0(0x1e8)]]=_0xfdf962[_0x6a6282['to']],_0xfdf962[_0x6a6282[_0x1497d0(0x1e8)]][_0x1497d0(0x1ff)]=_0x6a6282['piece'],_0xfdf962[_0x6a6282['to']]=null;if(_0x6a6282[_0x1497d0(0x1f6)]&BITS[_0x1497d0(0x226)])_0xfdf962[_0x6a6282['to']]={'type':_0x6a6282[_0x1497d0(0x202)],'color':_0x4ad82b};else{if(_0x6a6282[_0x1497d0(0x1f6)]&BITS[_0x1497d0(0x1f9)]){var _0x4d7b87;_0x185223===BLACK?_0x4d7b87=_0x6a6282['to']-0x10:_0x4d7b87=_0x6a6282['to']+0x10,_0xfdf962[_0x4d7b87]={'type':PAWN,'color':_0x4ad82b};}}if(_0x6a6282[_0x1497d0(0x1f6)]&(BITS[_0x1497d0(0x237)]|BITS[_0x1497d0(0x214)])){var _0x57cdcd,_0x16ae9b;if(_0x6a6282[_0x1497d0(0x1f6)]&BITS[_0x1497d0(0x237)])_0x57cdcd=_0x6a6282['to']+0x1,_0x16ae9b=_0x6a6282['to']-0x1;else _0x6a6282[_0x1497d0(0x1f6)]&BITS[_0x1497d0(0x214)]&&(_0x57cdcd=_0x6a6282['to']-0x2,_0x16ae9b=_0x6a6282['to']+0x1);_0xfdf962[_0x57cdcd]=_0xfdf962[_0x16ae9b],_0xfdf962[_0x16ae9b]=null;}return _0x6a6282;}function _0x379c52(_0x260f4d,_0x117eaa){var _0x35d857=_0x209eb0,_0x2d5407=stripped_san(_0x260f4d);for(var _0x4e6558=0x0;_0x4e6558<0x2;_0x4e6558++){if(_0x4e6558==PARSER_SLOPPY){if(!_0x117eaa)return null;var _0x2bfddc=![],_0x20d3fa=_0x2d5407[_0x35d857(0x224)](/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(_0x20d3fa){var _0x19eeeb=_0x20d3fa[0x1],_0x30294b=_0x20d3fa[0x2],_0x14eddb=_0x20d3fa[0x3],_0x2fac22=_0x20d3fa[0x4];_0x30294b['length']==0x1&&(_0x2bfddc=!![]);}else{var _0x20d3fa=_0x2d5407[_0x35d857(0x224)](/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/);if(_0x20d3fa){var _0x19eeeb=_0x20d3fa[0x1],_0x30294b=_0x20d3fa[0x2],_0x14eddb=_0x20d3fa[0x3],_0x2fac22=_0x20d3fa[0x4];if(_0x30294b[_0x35d857(0x1fd)]==0x1)var _0x2bfddc=!![];}}}var _0x31d728=infer_piece_type(_0x2d5407),_0x461a96=_0x3b09b2({'legal':!![],'piece':_0x19eeeb?_0x19eeeb:_0x31d728});for(var _0x3c6e49=0x0,_0x250d1b=_0x461a96[_0x35d857(0x1fd)];_0x3c6e49<_0x250d1b;_0x3c6e49++){switch(_0x4e6558){case PARSER_STRICT:{if(_0x2d5407===stripped_san(_0x327ebc(_0x461a96[_0x3c6e49],_0x461a96)))return _0x461a96[_0x3c6e49];break;}case PARSER_SLOPPY:{if(_0x20d3fa){if((!_0x19eeeb||_0x19eeeb[_0x35d857(0x201)]()==_0x461a96[_0x3c6e49][_0x35d857(0x1f4)])&&SQUARE_MAP[_0x30294b]==_0x461a96[_0x3c6e49][_0x35d857(0x1e8)]&&SQUARE_MAP[_0x14eddb]==_0x461a96[_0x3c6e49]['to']&&(!_0x2fac22||_0x2fac22[_0x35d857(0x201)]()==_0x461a96[_0x3c6e49][_0x35d857(0x220)]))return _0x461a96[_0x3c6e49];else{if(_0x2bfddc){var _0x11c879=algebraic(_0x461a96[_0x3c6e49]['from']);if((!_0x19eeeb||_0x19eeeb[_0x35d857(0x201)]()==_0x461a96[_0x3c6e49][_0x35d857(0x1f4)])&&SQUARE_MAP[_0x14eddb]==_0x461a96[_0x3c6e49]['to']&&(_0x30294b==_0x11c879[0x0]||_0x30294b==_0x11c879[0x1])&&(!_0x2fac22||_0x2fac22['toLowerCase']()==_0x461a96[_0x3c6e49][_0x35d857(0x220)]))return _0x461a96[_0x3c6e49];}}}}}}}return null;}function _0x4810f4(_0x3e9cc5){var _0x1ed7a3=_0x209eb0,_0x5da899=clone(_0x3e9cc5);_0x5da899[_0x1ed7a3(0x209)]=_0x327ebc(_0x5da899,_0x3b09b2({'legal':!![]})),_0x5da899['to']=algebraic(_0x5da899['to']),_0x5da899[_0x1ed7a3(0x1e8)]=algebraic(_0x5da899[_0x1ed7a3(0x1e8)]);var _0x367b89='';for(var _0x5e3880 in BITS){BITS[_0x5e3880]&_0x5da899[_0x1ed7a3(0x1f6)]&&(_0x367b89+=FLAGS[_0x5e3880]);}return _0x5da899[_0x1ed7a3(0x1f6)]=_0x367b89,_0x5da899;}function _0x4fcb41(_0x16a6d2){var _0x4b6aac=_0x3b09b2({'legal':![]}),_0x211ef5=0x0,_0x3f2c05=_0x883e6f;for(var _0x526a5b=0x0,_0xdb8b8b=_0x4b6aac['length'];_0x526a5b<_0xdb8b8b;_0x526a5b++){_0x19162f(_0x4b6aac[_0x526a5b]);if(!_0x3b8dae(_0x3f2c05)){if(_0x16a6d2-0x1>0x0){var _0x520dd7=_0x4fcb41(_0x16a6d2-0x1);_0x211ef5+=_0x520dd7;}else _0x211ef5++;}_0x244d10();}return _0x211ef5;}return{'load':function(_0x167334){return _0x54416e(_0x167334);},'reset':function(){return _0x20ae3c();},'moves':function(_0x348746){var _0x456f2f=_0x209eb0,_0x202790=_0x3b09b2(_0x348746),_0x1009e0=[];for(var _0x5374b6=0x0,_0x44ebae=_0x202790[_0x456f2f(0x1fd)];_0x5374b6<_0x44ebae;_0x5374b6++){typeof _0x348746!=='undefined'&&_0x456f2f(0x23b)in _0x348746&&_0x348746[_0x456f2f(0x23b)]?_0x1009e0['push'](_0x4810f4(_0x202790[_0x5374b6])):_0x1009e0[_0x456f2f(0x24b)](_0x327ebc(_0x202790[_0x5374b6],_0x3b09b2({'legal':!![]})));}return _0x1009e0;},'in_check':function(){return _0x1b0eb1();},'in_checkmate':function(){return _0x30fe3d();},'in_stalemate':function(){return _0x140209();},'in_draw':function(){return _0xb88b02>=0x64||_0x140209()||_0x1f7c0f()||_0x1a2355();},'insufficient_material':function(){return _0x1f7c0f();},'in_threefold_repetition':function(){return _0x1a2355();},'game_over':function(){return _0xb88b02>=0x64||_0x30fe3d()||_0x140209()||_0x1f7c0f()||_0x1a2355();},'validate_fen':function(_0x47c18b){return _0x5e4c6a(_0x47c18b);},'fen':function(){return _0x3cf7ff();},'board':function(){var _0x18c03f=_0x209eb0,_0x2e56bb=[],_0x52c7b9=[];for(var _0x1276ef=SQUARE_MAP['a8'];_0x1276ef<=SQUARE_MAP['h1'];_0x1276ef++){_0xfdf962[_0x1276ef]==null?_0x52c7b9[_0x18c03f(0x24b)](null):_0x52c7b9['push']({'square':algebraic(_0x1276ef),'type':_0xfdf962[_0x1276ef][_0x18c03f(0x1ff)],'color':_0xfdf962[_0x1276ef][_0x18c03f(0x24f)]}),_0x1276ef+0x1&0x88&&(_0x2e56bb[_0x18c03f(0x24b)](_0x52c7b9),_0x52c7b9=[],_0x1276ef+=0x8);}return _0x2e56bb;},'pgn':function(_0x14120f){var _0x41aef4=_0x209eb0,_0xbf9df8=typeof _0x14120f===_0x41aef4(0x244)&&typeof _0x14120f[_0x41aef4(0x22e)]===_0x41aef4(0x1fa)?_0x14120f['newline_char']:'\x0a',_0x1f42d8=typeof _0x14120f==='object'&&typeof _0x14120f[_0x41aef4(0x247)]===_0x41aef4(0x21d)?_0x14120f['max_width']:0x0,_0x23c847=[],_0x110433=![];for(var _0x4a7f6c in _0x3bca07){_0x23c847[_0x41aef4(0x24b)]('['+_0x4a7f6c+'\x20\x22'+_0x3bca07[_0x4a7f6c]+'\x22]'+_0xbf9df8),_0x110433=!![];}_0x110433&&_0x4a83a9[_0x41aef4(0x1fd)]&&_0x23c847[_0x41aef4(0x24b)](_0xbf9df8);var _0x20357c=function(_0xf3b9d0){var _0x4c846d=_0x41aef4,_0xb148f0=_0xf4f46f[_0x3cf7ff()];if(typeof _0xb148f0!==_0x4c846d(0x1fe)){var _0x5d4038=_0xf3b9d0[_0x4c846d(0x1fd)]>0x0?'\x20':'';_0xf3b9d0=''+_0xf3b9d0+_0x5d4038+'{'+_0xb148f0+'}';}return _0xf3b9d0;},_0x2be269=[];while(_0x4a83a9[_0x41aef4(0x1fd)]>0x0){_0x2be269[_0x41aef4(0x24b)](_0x244d10());}var _0x4b0638=[],_0x1006e='';_0x2be269[_0x41aef4(0x1fd)]===0x0&&_0x4b0638[_0x41aef4(0x24b)](_0x20357c(''));while(_0x2be269[_0x41aef4(0x1fd)]>0x0){_0x1006e=_0x20357c(_0x1006e);var _0x2e877c=_0x2be269[_0x41aef4(0x21a)]();if(!_0x4a83a9[_0x41aef4(0x1fd)]&&_0x2e877c[_0x41aef4(0x24f)]==='b'){const _0x21ecd7=_0x1a4f03+_0x41aef4(0x1ec);_0x1006e=_0x1006e?_0x1006e+'\x20'+_0x21ecd7:_0x21ecd7;}else _0x2e877c[_0x41aef4(0x24f)]==='w'&&(_0x1006e[_0x41aef4(0x1fd)]&&_0x4b0638[_0x41aef4(0x24b)](_0x1006e),_0x1006e=_0x1a4f03+'.');_0x1006e=_0x1006e+'\x20'+_0x327ebc(_0x2e877c,_0x3b09b2({'legal':!![]})),_0x19162f(_0x2e877c);}_0x1006e[_0x41aef4(0x1fd)]&&_0x4b0638['push'](_0x20357c(_0x1006e));typeof _0x3bca07['Result']!=='undefined'&&_0x4b0638[_0x41aef4(0x24b)](_0x3bca07[_0x41aef4(0x229)]);if(_0x1f42d8===0x0)return _0x23c847[_0x41aef4(0x21b)]('')+_0x4b0638[_0x41aef4(0x21b)]('\x20');var _0x19a1ce=function(){var _0xcd45fb=_0x41aef4;if(_0x23c847['length']>0x0&&_0x23c847[_0x23c847[_0xcd45fb(0x1fd)]-0x1]==='\x20')return _0x23c847[_0xcd45fb(0x21a)](),!![];return![];},_0x42e788=function(_0x339648,_0x14cc06){var _0x850a18=_0x41aef4;for(var _0x137847 of _0x14cc06[_0x850a18(0x228)]('\x20')){if(!_0x137847)continue;if(_0x339648+_0x137847['length']>_0x1f42d8){while(_0x19a1ce()){_0x339648--;}_0x23c847[_0x850a18(0x24b)](_0xbf9df8),_0x339648=0x0;}_0x23c847[_0x850a18(0x24b)](_0x137847),_0x339648+=_0x137847[_0x850a18(0x1fd)],_0x23c847[_0x850a18(0x24b)]('\x20'),_0x339648++;}return _0x19a1ce()&&_0x339648--,_0x339648;},_0x232764=0x0;for(var _0x4a7f6c=0x0;_0x4a7f6c<_0x4b0638['length'];_0x4a7f6c++){if(_0x232764+_0x4b0638[_0x4a7f6c][_0x41aef4(0x1fd)]>_0x1f42d8){if(_0x4b0638[_0x4a7f6c][_0x41aef4(0x1e5)]('{')){_0x232764=_0x42e788(_0x232764,_0x4b0638[_0x4a7f6c]);continue;}}if(_0x232764+_0x4b0638[_0x4a7f6c][_0x41aef4(0x1fd)]>_0x1f42d8&&_0x4a7f6c!==0x0)_0x23c847[_0x23c847['length']-0x1]==='\x20'&&_0x23c847[_0x41aef4(0x21a)](),_0x23c847[_0x41aef4(0x24b)](_0xbf9df8),_0x232764=0x0;else _0x4a7f6c!==0x0&&(_0x23c847[_0x41aef4(0x24b)]('\x20'),_0x232764++);_0x23c847[_0x41aef4(0x24b)](_0x4b0638[_0x4a7f6c]),_0x232764+=_0x4b0638[_0x4a7f6c]['length'];}return _0x23c847[_0x41aef4(0x21b)]('');},'load_pgn':function(_0x15a578,_0x3d293f){var _0x3c352b=_0x209eb0,_0x30265e=typeof _0x3d293f!==_0x3c352b(0x1fe)&&'sloppy'in _0x3d293f?_0x3d293f['sloppy']:![];function _0x47a1c2(_0x1d332a){var _0x1e1a51=_0x3c352b;return _0x1d332a[_0x1e1a51(0x1e4)](/\\/g,'\x5c');}function _0x5d907f(_0x369482,_0x2d7a0f){var _0x3a7e55=_0x3c352b,_0x4b86c0=typeof _0x2d7a0f===_0x3a7e55(0x244)&&typeof _0x2d7a0f[_0x3a7e55(0x22e)]==='string'?_0x2d7a0f[_0x3a7e55(0x22e)]:'\x0d?\x0a',_0x15fec8={},_0x2d8dfc=_0x369482[_0x3a7e55(0x228)](new RegExp(_0x47a1c2(_0x4b86c0))),_0x194dc3='',_0x9a671d='';for(var _0x5ee353=0x0;_0x5ee353<_0x2d8dfc[_0x3a7e55(0x1fd)];_0x5ee353++){var _0x567066=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;_0x194dc3=_0x2d8dfc[_0x5ee353][_0x3a7e55(0x1e4)](_0x567066,'$1'),_0x9a671d=_0x2d8dfc[_0x5ee353][_0x3a7e55(0x1e4)](_0x567066,'$2'),trim(_0x194dc3)[_0x3a7e55(0x1fd)]>0x0&&(_0x15fec8[_0x194dc3]=_0x9a671d);}return _0x15fec8;}_0x15a578=_0x15a578[_0x3c352b(0x20f)]();var _0x272392=typeof _0x3d293f==='object'&&typeof _0x3d293f['newline_char']===_0x3c352b(0x1fa)?_0x3d293f[_0x3c352b(0x22e)]:_0x3c352b(0x221),_0x21e6e0=new RegExp(_0x3c352b(0x24e)+_0x47a1c2(_0x272392)+_0x3c352b(0x208)+_0x3c352b(0x207)+_0x47a1c2(_0x272392)+_0x3c352b(0x23e)),_0x2d9795=_0x21e6e0[_0x3c352b(0x241)](_0x15a578)?_0x21e6e0[_0x3c352b(0x235)](_0x15a578)[0x1]:'';_0x20ae3c();var _0x48aa0d=_0x5d907f(_0x2d9795,_0x3d293f),_0x2e4329='';for(var _0xe80dc5 in _0x48aa0d){_0xe80dc5['toLowerCase']()===_0x3c352b(0x23a)&&(_0x2e4329=_0x48aa0d[_0xe80dc5]),_0x48d272([_0xe80dc5,_0x48aa0d[_0xe80dc5]]);}if(_0x30265e){if(_0x2e4329){if(!_0x54416e(_0x2e4329,!![]))return![];}}else{if(_0x48aa0d[_0x3c352b(0x233)]==='1'){if(!(_0x3c352b(0x24a)in _0x48aa0d&&_0x54416e(_0x48aa0d[_0x3c352b(0x24a)],!![])))return![];}}var _0x3612ad=function(_0x2564ce){var _0x1163bd=_0x3c352b;return Array[_0x1163bd(0x1e8)](_0x2564ce)[_0x1163bd(0x24d)](function(_0x1a9eec){var _0x3f33ad=_0x1163bd;return _0x1a9eec[_0x3f33ad(0x1f2)](0x0)<0x80?_0x1a9eec[_0x3f33ad(0x1f2)](0x0)[_0x3f33ad(0x21e)](0x10):encodeURIComponent(_0x1a9eec)['replace'](/\%/g,'')[_0x3f33ad(0x201)]();})[_0x1163bd(0x21b)]('');},_0x24b544=function(_0x20ed5d){var _0x3a61db=_0x3c352b;return _0x20ed5d[_0x3a61db(0x1fd)]==0x0?'':decodeURIComponent('%'+_0x20ed5d[_0x3a61db(0x224)](/.{1,2}/g)['join']('%'));},_0x1857a4=function(_0x3d58e1){var _0x100cd9=_0x3c352b;return _0x3d58e1=_0x3d58e1[_0x100cd9(0x1e4)](new RegExp(_0x47a1c2(_0x272392),'g'),'\x20'),'{'+_0x3612ad(_0x3d58e1[_0x100cd9(0x248)](0x1,_0x3d58e1['length']-0x1))+'}';},_0x19bd98=function(_0x49b0ec){var _0x13280b=_0x3c352b;if(_0x49b0ec[_0x13280b(0x21c)]('{')&&_0x49b0ec[_0x13280b(0x22c)]('}'))return _0x24b544(_0x49b0ec[_0x13280b(0x248)](0x1,_0x49b0ec[_0x13280b(0x1fd)]-0x1));},_0x2014cf=_0x15a578[_0x3c352b(0x1e4)](_0x2d9795,'')[_0x3c352b(0x1e4)](new RegExp(_0x3c352b(0x243)+_0x47a1c2(_0x272392)+_0x3c352b(0x1ea),'g'),function(_0x1fe41c,_0x1daf54,_0x2a05e8){var _0x22e937=_0x3c352b;return _0x1daf54!==undefined?_0x1857a4(_0x1daf54):'\x20'+_0x1857a4('{'+_0x2a05e8[_0x22e937(0x248)](0x1)+'}');})[_0x3c352b(0x1e4)](new RegExp(_0x47a1c2(_0x272392),'g'),'\x20'),_0x511134=/(\([^\(\)]+\))+?/g;while(_0x511134[_0x3c352b(0x241)](_0x2014cf)){_0x2014cf=_0x2014cf['replace'](_0x511134,'');}_0x2014cf=_0x2014cf[_0x3c352b(0x1e4)](/\d+\.(\.\.)?/g,''),_0x2014cf=_0x2014cf[_0x3c352b(0x1e4)](/\.\.\./g,''),_0x2014cf=_0x2014cf[_0x3c352b(0x1e4)](/\$\d+/g,'');var _0x4f5b76=trim(_0x2014cf)[_0x3c352b(0x228)](new RegExp(/\s+/));_0x4f5b76=_0x4f5b76[_0x3c352b(0x21b)](',')['replace'](/,,+/g,',')[_0x3c352b(0x228)](',');var _0x237c6e='',_0x57bb82='';for(var _0x24f445=0x0;_0x24f445<_0x4f5b76[_0x3c352b(0x1fd)];_0x24f445++){var _0x1c2e2c=_0x19bd98(_0x4f5b76[_0x24f445]);if(_0x1c2e2c!==undefined){_0xf4f46f[_0x3cf7ff()]=_0x1c2e2c;continue;}_0x237c6e=_0x379c52(_0x4f5b76[_0x24f445],_0x30265e);if(_0x237c6e==null){if(TERMINATION_MARKERS['indexOf'](_0x4f5b76[_0x24f445])>-0x1)_0x57bb82=_0x4f5b76[_0x24f445];else return![];}else _0x57bb82='',_0x19162f(_0x237c6e);}return _0x57bb82&&Object[_0x3c352b(0x1f7)](_0x3bca07)['length']&&!_0x3bca07[_0x3c352b(0x229)]&&_0x48d272(['Result',_0x57bb82]),!![];},'header':function(){return _0x48d272(arguments);},'turn':function(){return _0x883e6f;},'move':function(_0xa9912,_0x3fd152){var _0xa892bd=_0x209eb0,_0x49030b=typeof _0x3fd152!==_0xa892bd(0x1fe)&&_0xa892bd(0x219)in _0x3fd152?_0x3fd152[_0xa892bd(0x219)]:![],_0x6990c2=null;if(typeof _0xa9912===_0xa892bd(0x1fa))_0x6990c2=_0x379c52(_0xa9912,_0x49030b);else{if(typeof _0xa9912==='object'){var _0x269494=_0x3b09b2();for(var _0xd86edf=0x0,_0x1e605c=_0x269494['length'];_0xd86edf<_0x1e605c;_0xd86edf++){if(_0xa9912[_0xa892bd(0x1e8)]===algebraic(_0x269494[_0xd86edf][_0xa892bd(0x1e8)])&&_0xa9912['to']===algebraic(_0x269494[_0xd86edf]['to'])&&(!(_0xa892bd(0x220)in _0x269494[_0xd86edf])||_0xa9912['promotion']===_0x269494[_0xd86edf][_0xa892bd(0x220)])){_0x6990c2=_0x269494[_0xd86edf];break;}}}}if(!_0x6990c2)return null;var _0x54e13c=_0x4810f4(_0x6990c2);return _0x19162f(_0x6990c2),_0x54e13c;},'undo':function(){var _0x3bb529=_0x244d10();return _0x3bb529?_0x4810f4(_0x3bb529):null;},'clear':function(){return _0x13d83e();},'put':function(_0x4bb8f2,_0x58eadb){return _0x453bb3(_0x4bb8f2,_0x58eadb);},'get':function(_0x4e5312){return _0x405474(_0x4e5312);},'ascii'(){var _0x4f92c3=_0x209eb0,_0x2b6793=_0x4f92c3(0x225);for(var _0x1d951e=SQUARE_MAP['a8'];_0x1d951e<=SQUARE_MAP['h1'];_0x1d951e++){file(_0x1d951e)===0x0&&(_0x2b6793+='\x20'+_0x4f92c3(0x22b)[rank(_0x1d951e)]+'\x20|');if(_0xfdf962[_0x1d951e]==null)_0x2b6793+='\x20.\x20';else{var _0x113cb0=_0xfdf962[_0x1d951e][_0x4f92c3(0x1ff)],_0x300e92=_0xfdf962[_0x1d951e][_0x4f92c3(0x24f)],_0xd57abd=_0x300e92===WHITE?_0x113cb0['toUpperCase']():_0x113cb0[_0x4f92c3(0x201)]();_0x2b6793+='\x20'+_0xd57abd+'\x20';}_0x1d951e+0x1&0x88&&(_0x2b6793+='|\x0a',_0x1d951e+=0x8);}return _0x2b6793+=_0x4f92c3(0x225),_0x2b6793+='\x20\x20\x20\x20\x20a\x20\x20b\x20\x20c\x20\x20d\x20\x20e\x20\x20f\x20\x20g\x20\x20h',_0x2b6793;},'remove':function(_0x14e66b){return _0x357e02(_0x14e66b);},'perft':function(_0x2d65f8){return _0x4fcb41(_0x2d65f8);},'square_color':function(_0x3c5d6f){var _0x25be54=_0x209eb0;if(_0x3c5d6f in SQUARE_MAP){var _0x1e9d51=SQUARE_MAP[_0x3c5d6f];return(rank(_0x1e9d51)+file(_0x1e9d51))%0x2===0x0?'light':_0x25be54(0x206);}return null;},'history':function(_0x5882ec){var _0x4b27e9=_0x209eb0,_0x2c3b98=[],_0x52cd7c=[],_0x375c56=typeof _0x5882ec!=='undefined'&&_0x4b27e9(0x23b)in _0x5882ec&&_0x5882ec[_0x4b27e9(0x23b)];while(_0x4a83a9[_0x4b27e9(0x1fd)]>0x0){_0x2c3b98['push'](_0x244d10());}while(_0x2c3b98[_0x4b27e9(0x1fd)]>0x0){var _0x45b55b=_0x2c3b98[_0x4b27e9(0x21a)]();_0x375c56?_0x52cd7c[_0x4b27e9(0x24b)](_0x4810f4(_0x45b55b)):_0x52cd7c['push'](_0x327ebc(_0x45b55b,_0x3b09b2({'legal':!![]}))),_0x19162f(_0x45b55b);}return _0x52cd7c;},'get_comment':function(){return _0xf4f46f[_0x3cf7ff()];},'set_comment':function(_0x515ee1){var _0x5ef05a=_0x209eb0;_0xf4f46f[_0x3cf7ff()]=_0x515ee1[_0x5ef05a(0x1e4)]('{','[')['replace']('}',']');},'delete_comment':function(){var _0x625f98=_0xf4f46f[_0x3cf7ff()];return delete _0xf4f46f[_0x3cf7ff()],_0x625f98;},'get_comments':function(){var _0x5b57b9=_0x209eb0;return _0x458da1(),Object[_0x5b57b9(0x1f7)](_0xf4f46f)[_0x5b57b9(0x24d)](function(_0x252086){return{'fen':_0x252086,'comment':_0xf4f46f[_0x252086]};});},'delete_comments':function(){var _0x33e675=_0x209eb0;return _0x458da1(),Object['keys'](_0xf4f46f)[_0x33e675(0x24d)](function(_0x4a7ded){var _0x1a8bee=_0xf4f46f[_0x4a7ded];return delete _0xf4f46f[_0x4a7ded],{'fen':_0x4a7ded,'comment':_0x1a8bee};});}};};